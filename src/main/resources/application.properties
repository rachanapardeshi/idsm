# ==============
# NOTE: Spring is flexible with naming of config variables.
# When externalizing config via environment variables,
# you can use all-caps and underscores:
#    SPRING_DATASOURCE_URL
# for
#    spring.datasource.url
# ==============
spring.main.banner-mode=off

# Allow Liquibase to run on startup
spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml

# ==============
# data source
# ==============

spring.datasource.url=jdbc:mysql://localhost:3306/idsm?characterEncoding=utf8
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
#spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect
#spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext

# See docs for Tomcat pool properties: http://tomcat.apache.org/tomcat-8.0-doc/jdbc-pool.html#Common_Attributes
spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource
spring.datasource.tomcat.initial-size=5
spring.datasource.tomcat.max-active=50
spring.datasource.tomcat.max-idle=50
spring.datasource.tomcat.min-idle=5
spring.datasource.tomcat.max-wait=30000
spring.datasource.tomcat.max-age=60000
spring.datasource.tomcat.min-evictable-idle-time-millis=60000
spring.datasource.tomcat.time-between-eviction-runs-millis=20000
spring.datasource.tomcat.test-while-idle=true
spring.datasource.tomcat.default-read-only=false
spring.datasource.tomcat.test-on-borrow=true
spring.datasource.tomcat.validation-query=SELECT 1
spring.datasource.tomcat.validation-query-timeout=1
spring.datasource.tomcat.remove-abandoned=true
spring.datasource.tomcat.remove-abandoned-timeout=30
spring.datasource.tomcat.default-transaction-isolation=2



hibernate.dialect=org.hibernate.dialect.MySQL5Dialect
hibernate.show_sql=true
hibernate.format_sql=true


# ==============
# Heartbeat and spring-boot-actuator - disabled by default
# ==============
endpoints.autoconfig.enabled=false
endpoints.beans.enabled=false
endpoints.configprops.enabled=false
endpoints.dump.enabled=false
endpoints.env.enabled=false
endpoints.health.enabled=false
endpoints.info.enabled=false
endpoints.metrics.enabled=false
endpoints.mappings.enabled=false
endpoints.shutdown.enabled=false
endpoints.trace.enabled=false
heartbeat.enabled=false

# ==============
# Tomcat
# ==============

# server.servlet.context-path=/apis/services/v3
server.port=8080
# use X-Forwarded-For and X-Forwarded-Proto headers when constructing responseURLs
server.use-forward-headers=true
server.compression.enabled=true
server.compression.mime-types=text/plain
server.compression.min-response-size=1000

# To override logback config
#logging.config=file:./src/test/resources/logback.xml

# specify which interface to bind to
#server.address=0.0.0.0
# ssl config (eliminates http)
#server.port=8443
#server.ssl.key-store=classpath:keystore.jks
#server.ssl.key-store-password=secret
#server.ssl.key-password=secret

#server.tomcat.basedir=C:/data/tomcat
#server.tomcat.accesslog.enabled=true
#server.tomcat.accesslog.pattern=%t %a "%r" %s (%D ms)

json_output_indent=true
app_version=development

# haven't figured out how to properly disable Swagger yet
#apis.swagger.enable=true

management.endpoints.web.exposure.include=health,info,prometheus
management.endpoints.web.base-path=/
management.endpoints.web.path-mapping.health=healthcheck
management.endpoints.web.path-mapping.prometheus=metrics
#management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.slo.http.server.requests=5ms,10ms,25ms,50ms,100ms,250ms,500ms,1000ms,2500ms,5000ms,10000


# ==================
# Swagger OpenApi
# ==================
#To hide schemas at the bottom of the swagger page
springdoc.swagger-ui.defaultModelsExpandDepth=-1
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.docExpansion=none
#springdoc.api-docs.path=/v3/api-docs
#springdoc.api-docs.enabled=false
#springdoc.packages-to-scan=*
#springdoc.paths-to-match=/*
springdoc.show-actuator=true

# ====================================================
# Springboot-2.6 : Disabled circular dependency check
# ====================================================
spring.main.allow-circular-references=true

username=testerAPI@drivesoft.tech
password=THis!1sAT3mp0?r@ryAC>CT
InstitutionID=107007
baseurl=https://idms.dealersocket.com/api

